# Используем официальный образ Ubuntu в его последней версии
FROM ubuntu:latest

# Обновляем индекс пакетов и устанавливаем необходимые компоненты
RUN apt-get update && apt-get install -y \
    x11-apps \         
    # Устанавливаем базовые X11-приложения для графического интерфейса
    xauth \            
    # Устанавливаем инструмент для настройки X сервера для авторизации
    openjdk-11-jre\    
    # Устанавливаем OpenJDK 11 (Java Runtime Environment)
    && rm -rf /var/lib/apt/lists/*

# Устанавливаем рабочую директорию для будущих команд
WORKDIR /new-app

# Копируем JAR-файл (Java-приложение) внутрь контейнера
COPY calc.jar /new-app/

# Устанавливаем переменную среды для указания дисплея (X11)
ENV DISPLAY=:0

# Задаем команду по умолчанию для выполнения при запуске контейнера
CMD ["java", "-jar", "/new-app/calc.jar"]
